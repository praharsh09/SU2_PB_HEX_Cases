SOLVER=   INC_NAVIER_STOKES
KIND_TURB_MODEL=   NONE
MATH_PROBLEM=   DIRECT
RESTART_SOL=   NO
%
OBJECTIVE_FUNCTION= TOTAL_HEATFLUX
%
% -------------------- BOUNDARY CONDITION DEFINITION --------------------------%
%
MARKER_ISOTHERMAL=   ( wall1, 310.0)
%
%MARKER_EULER = (periodic1,periodic2)
MARKER_PERIODIC=   ( periodic1, periodic2, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.01, 0.0)
%
MARKER_INLET= ( inflow, 300, 0.25, 1.0, 0.0, 0.0 )
%
MARKER_OUTLET= ( outmix, 0.0 )
%
MARKER_PLOTTING= (wall1)
%
MARKER_MONITORING= (wall1)
%
% ---------------- INCOMPRESSIBLE FLOW CONDITION DEFINITION -------------------%
%
INC_DENSITY_MODEL= CONSTANT
%
INC_ENERGY_EQUATION = YES
%
INC_DENSITY_INIT= 1.2886
%
INC_VELOCITY_INIT= ( 0.1, 0.0, 0.0 )
%
INC_INLET_TYPE= VELOCITY_INLET
%
INC_INLET_DAMPING= 0.1
%
INC_OUTLET_TYPE= PRESSURE_OUTLET
%
INC_OUTLET_DAMPING= 0.1
%
INC_TEMPERATURE_INIT= 300
%
INC_NONDIM= DIMENSIONAL
%
% ---- IDEAL GAS, POLYTROPIC, VAN DER WAALS AND PENG ROBINSON CONSTANTS -------%
%
FLUID_MODEL= CONSTANT_DENSITY
%
SPECIFIC_HEAT_CP= 1004.703
%
MOLECULAR_WEIGHT= 28.96
%
% --------------------------- VISCOSITY MODEL ---------------------------------%
%
VISCOSITY_MODEL= CONSTANT_VISCOSITY
%
MU_CONSTANT= 1.7893e-05
%
MU_REF= 1.716E-5
%
MU_T_REF= 273.15
%
SUTHERLAND_CONSTANT= 110.4
%
% --------------------------- THERMAL CONDUCTIVITY MODEL ----------------------%
%
CONDUCTIVITY_MODEL=   CONSTANT_PRANDTL
THERMAL_CONDUCTIVITY_CONSTANT= 0.0257
PRANDTL_LAM= 0.72
PRANDTL_TURB= 0.90
%
% ------------- COMMON PARAMETERS DEFINING THE NUMERICAL METHOD ---------------%
%
NUM_METHOD_GRAD= GREEN_GAUSS
CFL_NUMBER= 40.0
CFL_ADAPT= NO
CFL_ADAPT_PARAM= ( 1.5, 0.5, 10.0, 10000.0 )
RK_ALPHA_COEFF= ( 0.66667, 0.66667, 1.000000 )
%
% ------------------------ LINEAR SOLVER DEFINITION ---------------------------%
%
LINEAR_SOLVER= FGMRES
LINEAR_SOLVER_PREC= ILU
LINEAR_SOLVER_ILU_FILL_IN= 0
LINEAR_SOLVER_ERROR= 1E-4
LINEAR_SOLVER_ITER= 10
%
% -------------------- FLOW NUMERICAL METHOD DEFINITION -----------------------%
%
CONV_NUM_METHOD_FLOW= FDS
MUSCL_FLOW= YES
SLOPE_LIMITER_FLOW= NONE
TIME_DISCRE_FLOW= EULER_IMPLICIT
%
% --------------------------- CONVERGENCE PARAMETERS --------------------------%
%
CONV_RESIDUAL_MINVAL=   -99
CONV_STARTITER=   10
CONV_CAUCHY_ELEMS=   100
CONV_CAUCHY_EPS=   1E-99
CONV_FIELD= DRAG
%
INNER_ITER= 2000
%
% ------------------------- INPUT/OUTPUT INFORMATION --------------------------%
%
MESH_FILENAME=  hex_minichannel_pw_bl.su2
MESH_FORMAT=   SU2
MESH_OUT_FILENAME=   meshout.su2
SOLUTION_FILENAME=   restart_flow.dat
SOLUTION_ADJ_FILENAME=   restart_adj.dat
OUTPUT_FILES= (RESTART, TECPLOT_ASCII, SURFACE_TECPLOT_ASCII)
TABULAR_FORMAT= TECPLOT
CONV_FILENAME=   history.dat
%
HISTORY_OUTPUT=(ITER, RMS_RES, AERO_COEFF, HEAT )
%
RESTART_FILENAME=   restart_flow.dat
RESTART_ADJ_FILENAME=   restart_adj.dat
VOLUME_FILENAME=   flow
VOLUME_ADJ_FILENAME=   adjoint
GRAD_OBJFUNC_FILENAME=   of_grad.dat
SURFACE_FILENAME=   surface_flow
SURFACE_ADJ_FILENAME=   surface_adjoint
%
OUTPUT_WRT_FREQ=   100
SCREEN_WRT_FREQ_INNER= 1
HISTORY_WRT_FREQ_INNER= 1
%
% ------------------------ DV PARAMETERS ------------------------%
%
FFD_TOLERANCE=   1E-10
FFD_ITERATIONS=   500
FFD_DEFINITION=   (FFD_BoxTag, 0.15136230, 0.01494119, 0.0, 0.19135656, -0.0265108,0.0, 0.1904628, -0.05923811, 0.0, 0.1372861, -0.00226304, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0)
FFD_DEGREE=   (2, 2, 0)
FFD_CONTINUITY=   2ND_DERIVATIVE
DV_KIND=   SURFACE_FILE
%
DV_FILENAME =   MoveSurface.txt
%
% VISUALIZE_DEFORMATION=   YES
SURFACE_MOVEMENT= MOVING_WALL
MARKER_MOVING =   (wall1)
DV_MARKER=   ( wall1 )
%DEFORM_LINEAR_SOLVER_ITER =   100
DEFINITION_DV=   ( 15, 1.0 | wall1 | FFD_BoxTag, 0, 0, 0.0, 1.0 ); ( 15, 1.0 | wall1 | FFD_BoxTag, 1, 0, 0.0, 1.0 ); ( 15, 1.0 | wall1 | FFD_BoxTag, 2, 0, 0.0, 1.0 ); ( 15, 1.0 | wall1 | FFD_BoxTag, 0, 1, 0.0, 1.0 ); ( 15, 1.0 | wall1 | FFD_BoxTag, 1, 1, 0.0, 1.0 ); ( 15, 1.0 | wall1 | FFD_BoxTag, 2, 1, 0.0, 1.0 ); ( 15, 1.0 | wall1 | FFD_BoxTag, 0, 2, 0.0, 1.0 ); ( 15, 1.0 | wall1 | FFD_BoxTag, 1, 2, 0.0, 1.0 ); ( 15, 1.0 | wall1 | FFD_BoxTag, 2, 2, 0.0, 1.0 )
OPT_OBJECTIVE=  ENTROPY_GENERATION
%DEFORM_NONLINEAR_ITER=   1
%DEFORM_CONSOLE_OUTPUT=   YES
%
%DEFORM_LINEAR_SOLVER_ERROR =   0.001
%
%DEFORM_STIFFNESS_TYPE=   INVERSE_VOLUME
MACH_MOTION=   0.35
%
TRANSLATION_RATE=   0.0 -150.0 0.0
%
DV_PARAM=   ( 1, 0.5 )
DV_VALUE=   0.001

% ------------------------ GRID DEFORMATION PARAMETERS ------------------------%
%
% Linear solver or smoother for implicit formulations (FGMRES, RESTARTED_FGMRES, BCGSTAB)
DEFORM_LINEAR_SOLVER= FGMRES
%
% Preconditioner of the Krylov linear solver (ILU, LU_SGS, JACOBI)
DEFORM_LINEAR_SOLVER_PREC= LU_SGS
%
% Number of smoothing iterations for mesh deformation
DEFORM_LINEAR_SOLVER_ITER= 1000
%
% Number of nonlinear deformation iterations (surface deformation increments)
DEFORM_NONLINEAR_ITER= 1
%
% Print the residuals during mesh deformation to the console (YES, NO)
DEFORM_CONSOLE_OUTPUT= YES
%
% Minimum residual criteria for the linear solver convergence of grid deformation
DEFORM_LINEAR_SOLVER_ERROR= 1E-14
%
% Deformation coefficient (in theory from -1.0 to 0.5, a large value is also valid)
DEFORM_COEFF = 1E6
%
% Type of element stiffness imposed for FEA mesh deformation (INVERSE_VOLUME,
% WALL_DISTANCE, CONSTANT_STIFFNESS)
DEFORM_STIFFNESS_TYPE= INVERSE_VOLUME
